# Client maintainer: mathieu . malaterre  gmail . com

# http://clang-analyzer.llvm.org/scan-build.html
#Â http://redmine.lighttpd.net/wiki/lighttpd2/ClangAnalyzer

set(CTEST_CMAKE_GENERATOR "Unix Makefiles")
set(ENV{CC} /usr/share/clang/scan-build/ccc-analyzer)
set(ENV{MAKE} "scan-build -o . make")
# skip test, only interested in static analysis (save time)
set(dashboard_do_test FALSE)

macro(dashboard_hook_init)
  set( dashboard_cache "
  BUILD_TESTING:BOOL=ON
  BUILD_JPIP:BOOL=ON
  BUILD_THIRDPARTY:BOOL=OFF
    "
    )
endmacro(dashboard_hook_init)

# Filename convention is:
# ctestsite-branchname-model-configuration-buildname.ctest
get_filename_component(OPJ_CTEST_NAME ${CMAKE_CURRENT_LIST_FILE} NAME_WE)
include(${CTEST_SCRIPT_DIRECTORY}/openjpeg_common.cmake)
